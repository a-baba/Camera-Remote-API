<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="/frameworks/jquery-1.11.1.min.js"></script>
    <script src="/lib/requestSession_sim.js"></script>
    <script src="/shim/presentation_shim.js"></script>
    <script src="/shim/session_shim.js"></script>
    <script src="/shim/shim.js"></script>
    <script src="script.js"></script>
    <style>
      #simif { display: none; }
    </style>
  </head>
  <body>
    <div id="simif"></div>
    <section id="main">
      <header>
        <h1>WoT demo</h1>
      </header>

      <section id="button">
        <button id="extern" disabled>use external camera</button>
      </section>
      <section id="contents">
        <div class="content"></div>
      </section>
    </section>

    <img id="liveview"><canvas></canvas>
  </body>
  <script>
    navigator.presentation.onavailablechange = function(){
      $("#button button")[0].disabled = false;
      console.log('@onavailablechange');
    }
    document.querySelector("button#extern").onclick = function(){
      navigator.presentation
      .startSession('urn:schemas-sony-com:service:ScalarWebAPI:1')
      .then(function(sess) {
        alert("startSession succeeded");
      });
    }

  </script>
</html>
